[Unit]
Description=Set ThinkPad Battery Charge Thresholds
After=multi-user.target

[Service]
Type=oneshot
# 1. Stop charging at 100% (Full capacity)
ExecStart=/bin/sh -c 'echo 100 > /sys/class/power_supply/BAT0/charge_control_end_threshold'
# 2. Don't start charging until we drop below 95% (Prevents micro-cycling)
ExecStart=/bin/sh -c 'echo 80 > /sys/class/power_supply/BAT0/charge_control_start_threshold'

[Install]
WantedBy=multi-user.target
